(this["webpackJsonpgot-quotes"]=this["webpackJsonpgot-quotes"]||[]).push([[0],{50:function(e,t,r){},97:function(e,t,r){"use strict";r.r(t);var n,c=r(0),o=r.n(c),a=r(18),s=r.n(a),i=(r(50),r(15)),l=r(3),u=r(4),d=r(7),j=r(19),b=r(28),h=r(9),O=Object(h.c)({name:"favourites",initialState:JSON.parse(window.localStorage.getItem("favourites"))||[],reducers:{addFavorite:function(e,t){var r={id:t.payload.id,quote:t.payload.quote};e.push(r),window.localStorage.setItem("favourites",JSON.stringify(e))},removeFavorite:function(e,t){var r=e.filter((function(e){return e.id!==t.payload.id}));return window.localStorage.setItem("favourites",JSON.stringify(r)),r}}}),f=O.actions,g=f.addFavorite,x=f.removeFavorite,p=O.reducer,m=r(1),v=function(e){var t=e.quote,r=t.id,n=t.quote,c=Object(l.useMantineTheme)(),a=Object(d.c)((function(e){return e.favourites})),s=Object(d.b)();var i=o.a.useCallback((function(){s(g({id:r,quote:n}))}),[r,n,s]),u=o.a.useCallback((function(){s(x({id:r}))}),[r,s]);return Object(m.jsxs)(l.Group,{direction:"column",children:[Object(m.jsx)(l.Blockquote,{styles:{root:{backgroundColor:c.colors.sand,borderLeftColor:c.colors.apolloBlue},icon:{color:c.colors.apolloBlue}},children:Object(m.jsx)("h3",{children:n})}),(null===a||void 0===a?void 0:a.find((function(e){return e.id===r})))?Object(m.jsx)(b.a,{onClick:u,size:30,color:c.colors.gold,style:{alignSelf:"center",cursor:"pointer"}}):Object(m.jsx)(b.b,{onClick:i,size:30,color:c.colors.gold,style:{cursor:"pointer",alignSelf:"center"}})]})},y=function(e){var t=e.quotes,r=e.name,n=Object(l.useMantineTheme)();return Object(m.jsxs)(l.Group,{direction:"column",position:"center",style:{position:"absolute"},children:[Object(m.jsx)(l.Group,{style:{position:"sticky",top:100,zIndex:-5,wordWrap:"break-word"},children:Object(m.jsx)("h1",{style:{fontSize:"20rem"},children:r})}),t.map((function(e){return Object(m.jsx)(l.Paper,{padding:"lg",shadow:"xs",radius:"lg",style:{backgroundColor:n.colors.ebony},children:Object(m.jsx)(v,{quote:e})},e.id)}))]})},S=function(e){var t=e.character,r=Object(l.useMantineTheme)(),n=t.house,c=t.imageFull,o=t.name,a=t.quotes,s=Object(j.useToggle)(!1,[!1,!0]),u=Object(i.a)(s,2),d=u[0],b=u[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(l.Card,{onClick:function(e){b()},shadow:"lg",style:{backgroundColor:r.colors.ebony,cursor:"pointer",borderRadius:10,margin:10},children:[Object(m.jsx)(l.Image,{src:c,height:350}),Object(m.jsxs)(l.Group,{position:"center",direction:"column",style:{marginBottom:5},children:[Object(m.jsx)("h1",{children:o}),Object(m.jsx)(l.Badge,{variant:"outline",style:{border:r.colors.ebony},children:n?n.name:"No House"})]})]}),Object(m.jsx)(l.Modal,{size:"75%",styles:{inner:{alignItems:"center",backgroundColor:r.colors.ebony},modal:{backgroundColor:r.colors.sand}},opened:d,onClose:function(){return b()},children:Object(m.jsx)(y,{quotes:a,name:o})})]})},w=function(e){var t,r=e.filteredArrayBySearchValue,n=e.debouncedSearchValue,c=Object(d.c)((function(e){return e.characters})).data;return t=r.length>0&&n?r:c,Object(m.jsx)(u.Container,{children:Object(m.jsx)(u.Row,{children:t.map((function(e){return Object(m.jsx)(u.Col,{xs:12,md:6,lg:4,children:Object(m.jsx)(S,{character:e})},e.slug)}))})})},C=r(45),k=r(20),q=Object(m.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(m.jsx)(l.Kbd,{children:"Ctrl"}),Object(m.jsx)("span",{style:{margin:"0 5px"},children:"+"}),Object(m.jsx)(l.Kbd,{children:"/"})]}),I=function(e){var t=e.searchValue,r=e.setSearchValue,n=Object(c.useRef)();return Object(C.a)("ctrl+/",(function(){n.current.focus()})),Object(m.jsx)(l.TextInput,{elementRef:n,placeholder:"Search",icon:Object(m.jsx)(k.a,{}),rightSectionWidth:90,rightSection:q,styles:{rightSection:{pointerEvents:"none"}},value:t,onChange:function(e){r(e.target.value)}})},B=r(10),R=r(12),F=r(14),L=r.n(F),V=r(21),M=r(22),N=r.n(M),T=Object(h.b)("characters/getCharactersAsync",Object(V.a)(L.a.mark((function e(){var t,r,n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.localStorage.getItem("characters")){e.next=2;break}return e.abrupt("return",JSON.parse(window.localStorage.getItem("characters")));case 2:return e.prev=2,e.next=5,N.a.get("https://raw.githubusercontent.com/ghana7989/got-quotes-api/main/Details.json");case 5:if(r=e.sent,!(null===(n=r.data)||void 0===n||null===(t=n.details)||void 0===t?void 0:t.length)){e.next=10;break}return window.localStorage.setItem("characters",JSON.stringify(n.details)),e.abrupt("return",n.details);case 10:e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(2),e.abrupt("return",e.t0.response.message);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})))),z=Object(h.c)({name:"characters",initialState:{isLoading:!1,error:null,data:[]},reducers:{},extraReducers:(n={},Object(B.a)(n,T.pending,(function(e,t){return Object(R.a)(Object(R.a)({},e),{},{isLoading:!0})})),Object(B.a)(n,T.fulfilled,(function(e,t){return Object(R.a)(Object(R.a)({},e),{},{isLoading:!1,data:t.payload})})),Object(B.a)(n,T.rejected,(function(e,t){return Object(R.a)(Object(R.a)({},e),{},{isLoading:!1,data:[],error:t.payload})})),n)}).reducer,J=function(e){var t=e.text,r=e.Icon,n=Object(l.useMantineTheme)();return Object(m.jsx)(l.Divider,{margins:"lg",variant:"solid",labelPosition:"center",label:Object(m.jsxs)(m.Fragment,{children:[r||Object(m.jsx)(k.a,{style:{width:20,height:20,color:n.colors.sand}}),Object(m.jsx)("span",{style:{marginLeft:5},children:t})]})})},A=Object(h.b)("quote/getRandomQuoteAsync",Object(V.a)(L.a.mark((function e(){var t,r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("https://game-of-thrones-quotes.herokuapp.com/v1/random");case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))),E=Object(h.c)({name:"quote",initialState:{},reducers:{},extraReducers:Object(B.a)({},A.fulfilled,(function(e,t){return t.payload}))}).reducer,D=function(){var e,t=Object(d.c)((function(e){return e.quote})),r=Object(d.b)();Object(c.useEffect)((function(){r(A())}),[r]);var n=Object(l.useMantineTheme)();return t?Object(m.jsx)(l.Blockquote,{cite:"- ".concat(null===t||void 0===t||null===(e=t.character)||void 0===e?void 0:e.name),styles:{root:{backgroundColor:n.colors.sand,borderLeftColor:n.colors.gold},icon:{color:n.colors.gold}},children:Object(m.jsx)("h3",{children:t.sentence})}):Object(m.jsx)(m.Fragment,{})};var G=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.characters})),r=t.isLoading,n=t.data,o=Object(c.useState)([]),a=Object(i.a)(o,2),s=a[0],b=a[1],h=Object(c.useState)(""),O=Object(i.a)(h,2),f=O[0],g=O[1],x=Object(j.useDebouncedValue)(f,500),p=Object(i.a)(x,1)[0];Object(c.useEffect)((function(){e(T())}),[e]),Object(c.useEffect)((function(){if(p){var e=n.filter((function(e){var t;return e.name.includes(p)||e.slug.includes(p)||(null===e||void 0===e||null===(t=e.house)||void 0===t?void 0:t.name.includes(p))}));b(e)}}),[p,n]);var v=Object(l.useMantineTheme)();return r?Object(m.jsx)(l.Center,{style:{width:"100vw",height:"100vh"},children:Object(m.jsx)(l.Loader,{size:50,style:{fill:v.colors.sand[0]}})}):Object(m.jsxs)(u.Container,{fluid:!0,children:[Object(m.jsx)(u.Row,{children:Object(m.jsx)(u.Col,{children:Object(m.jsx)(l.Center,{style:{textAlign:"center"},children:Object(m.jsx)("h1",{className:"logo",children:"Quotes of thrones"})})})}),Object(m.jsx)(u.Row,{children:Object(m.jsx)(u.Col,{children:Object(m.jsx)(I,{searchValue:f,setSearchValue:g})})}),Object(m.jsx)(u.Row,{children:Object(m.jsx)(u.Col,{children:Object(m.jsx)(D,{})})}),Object(m.jsx)(J,{text:"Search Results"}),Object(m.jsx)(u.Row,{children:Object(m.jsx)(u.Col,{children:Object(m.jsx)(w,{filteredArrayBySearchValue:s,debouncedSearchValue:p})})})]})};var P=function(e){var t=e.children;return Object(m.jsx)(l.MantineProvider,{theme:{colors:{ebony:["#4A4957"],sand:["#F1D8BF"],gold:["#B18643"],apolloBlue:["#788483"]}},children:t})},K=Object(h.a)({reducer:{characters:z,favourites:p,quote:E}});s.a.render(Object(m.jsxs)(P,{children:[Object(m.jsx)(l.NormalizeCSS,{}),Object(m.jsx)(d.a,{store:K,children:Object(m.jsx)(G,{})})]}),document.getElementById("root"))}},[[97,1,2]]]);
//# sourceMappingURL=main.3e52c157.chunk.js.map